var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(){function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(i)return i(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return a(n||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<o.length;r++)a(o[r]);return a}return e}()({1:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("./GamePage/GamePage"),s=o(r),l=e("./GameSelect/GameSelect"),c=o(l),u=e("./GameStart/GameStart"),f=o(u),h=e("./Loading"),y=o(h),d=e("./TaskDetail/TaskDetail"),b=o(d),p=function(){function e(){a(this,e)}return i(e,null,[{key:"init",value:function(){var e=Laya.ClassUtils.regClass;e("GamePage/GamePage.js",s["default"]),e("GameSelect/GameSelect.js",c["default"]),e("GameStart/GameStart.js",f["default"]),e("Loading.js",y["default"]),e("TaskDetail/TaskDetail.js",b["default"])}}]),e}();n["default"]=p,p.width=750,p.height=1334,p.scaleMode="exactfit",p.screenMode="none",p.alignV="middle",p.alignH="center",p.startScene="GameSelect.scene",p.sceneRoot="",p.debug=!1,p.stat=!1,p.physicsDebug=!1,p.exportSceneToJson=!0,p.init()},{"./GamePage/GamePage":2,"./GameSelect/GameSelect":3,"./GameStart/GameStart":4,"./Loading":5,"./TaskDetail/TaskDetail":7}],2:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),r(t,[{key:"onEnable",value:function(){this.owner.btnAlarm.on(Laya.Event.CLICK,this,this.onBtnAlarm),this.owner.btnBack.on(Laya.Event.CLICK,this,this.onBtnBack),this.owner.btnTrain.on(Laya.Event.CLICK,this,this.onBtnTrain)}},{key:"onBtnAlarm",value:function(){console.log("接警"),Laya.Scene.open("TaskDetail.scene")}},{key:"onBtnBack",value:function(){console.log("回炉营")}},{key:"onBtnTrain",value:function(){console.log("新警训练营")}}]),t}(Laya.Script);n["default"]=s},{}],3:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.characterWard=0,e.weared=!1,e.character=null,e}return i(t,e),r(t,[{key:"onEnable",value:function(){console.log(this.owner),this.owner.btnCancel.on(Laya.Event.CLICK,this,this.onBtnCancel),this.owner.btnEnter.on(Laya.Event.CLICK,this,this.onBtnEnter),this.owner.btnTurnLeft.on(Laya.Event.CLICK,this,this.onBtnTurnLeft),this.owner.btnTurnRight.on(Laya.Event.CLICK,this,this.onBtnTurnRight),this.character=this.owner.character,this.owner.singleTool.on(Laya.Event.CLICK,this,this.onWear)}},{key:"onBtnCancel",value:function(){console.log("取消"),Laya.Scene.open("GamePage.scene")}},{key:"onBtnEnter",value:function(){console.log("进入现场"),Laya.Scene.open("GameStart.scene")}},{key:"onBtnTrain",value:function(){console.log("新警训练营")}},{key:"onBtnTurnLeft",value:function(){this.characterWard=this.characterWard-1,this.reRender(this.characterWard)}},{key:"onBtnTurnRight",value:function(){this.characterWard=this.characterWard+1,this.reRender(this.characterWard)}},{key:"onWear",value:function(){this.weared=!this.weared,this.characterWard=0,this.reRender(this.characterWard)}},{key:"reRender",value:function(e){console.log(e);var t=this.character;if(e=Math.abs(e%4),console.log(t),this.weared)switch(t.height=524,e){case 0:t.width=180,t.texture="../laya/assets/game/jc-front-ed.png";break;case 1:t.width=120,t.texture="../laya/assets/game/jc-left-ed.png";break;case 2:t.width=190,t.texture="../laya/assets/game/jc-back-ed.png";break;case 3:t.width=120,t.texture="../laya/assets/game/jc-right-ed.png";break;default:t.width=190,t.texture="../laya/assets/game/jc-front-ed.png"}else switch(t.height=525,e%4){case 0:t.width=190,t.texture="../laya/assets/game/jc-front.png";break;case 1:t.width=120,t.texture="../laya/assets/game/jc-left.png";break;case 2:t.width=190,t.texture="../laya/assets/game/jc-back.png";break;case 3:t.width=120,t.texture="../laya/assets/game/jc-right.png";break;default:t.width=190,t.texture="../laya/assets/game/jc-front.png"}}}]),t}(Laya.Script);n["default"]=s},{}],4:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.count=0,e.btnType="",e}return i(t,e),r(t,[{key:"onEnable",value:function(){var e=this;console.log(this),this.dialogMessageControl(!1),setTimeout(function(){e.dialogMessageControl(!0)},2e3),this.dialogControl(!1),this.owner.btnNo.on(Laya.Event.CLICK,this,this.onBtnNo),this.owner.btnYes.on(Laya.Event.CLICK,this,this.onBtnYes),this.owner.btnClose.on(Laya.Event.CLICK,this,this.onBtnClose),this.owner.btnExit.on(Laya.Event.CLICK,this,this.onBtnExit),this.owner.btnNext.on(Laya.Event.CLICK,this,this.onBtnNext),this.dialogMessageText("是否回告指挥中心？")}},{key:"dialogMessageControl",value:function(e){var t=[this.owner.dialogMessage,this.owner.dialogMessageText,this.owner.btnNo,this.owner.btnYes,this.owner.btnClose];t.forEach(function(t){t._visible=e})}},{key:"dialogControl",value:function(e){var t=[this.owner.dialog,this.owner.dialogText,this.owner.btnNext];t.forEach(function(t){t._visible=e})}},{key:"btnControl",value:function(e){var t=[this.owner.btnNo,this.owner.btnYes];t.forEach(function(t){t._visible=e})}},{key:"onBtnNo",value:function(){"exit"===this.btnType?(0==this.count&&this.dialogMessageText("是否回告指挥中心？"),1==this.count&&this.dialogMessageText("是否打开执法记录仪？"),this.btnType="",2==this.count&&(this.btnType="end",this.dialogControl(!0),this.dialogMessageControl(!1),this.dialogText("你好，我是公安县公安局的民警，请问是你报警的吗？"))):this.onBtnYes()}},{key:"onBtnYes",value:function(){return"exit"===this.btnType?void Laya.Scene.open("GamePage.scene"):(this.count=this.count+1,1==this.count&&this.dialogMessageText("是否打开执法记录仪？"),void(2==this.count&&(this.btnType="end",this.dialogControl(!0),this.dialogMessageControl(!1),this.dialogText("你好，我是公安县公安局的民警，请问是你报警的吗？"))))}},{key:"onBtnClose",value:function(){this.dialogMessageControl(!1),this.dialogControl(!1),this.btnControl(!1)}},{key:"onBtnExit",value:function(){(this.btnType="end")&&this.dialogMessageControl(!0),this.btnType="exit",this.dialogMessageText("是否确认处结？")}},{key:"onBtnNext",value:function(){Laya.Scene.open("GamePage.scene")}},{key:"dialogMessageText",value:function(e){this.owner.dialogMessageText.text=e}},{key:"dialogText",value:function(e){this.owner.dialogText.text=e}}]),t}(Laya.Script);n["default"]=s},{}],5:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),r(t,[{key:"onEnable",value:function(){var e=this;console.log(this);var t=null,n=0;t=setInterval(function(){e.owner.loadingCar.y=e.owner.loadingCar.y+5,n+=.317,e.owner.loadingText.text="Loading... "+parseInt(n)+"%",e.owner.loadingCar.y>1334&&(clearInterval(t),Laya.Scene.open("GamePage.scene"),laya.media.SoundManager.playMusic("res/music.mp3",0))},10)}}]),t}(Laya.Script);n["default"]=s},{}],6:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("./GameConfig"),s=o(r),l=e("./ui/layaMaxUI"),c=(o(l),function(){function e(){a(this,e),window.Laya3D?Laya3D.init(s["default"].width,s["default"].height):Laya.init(s["default"].width,s["default"].height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=s["default"].scaleMode,Laya.stage.screenMode=s["default"].screenMode,Laya.stage.alignV=s["default"].alignV,Laya.stage.alignH=s["default"].alignH,Laya.URL.exportSceneToJson=s["default"].exportSceneToJson,(s["default"].debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),s["default"].physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),s["default"].stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}return i(e,[{key:"onVersionLoaded",value:function(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}},{key:"onConfigLoaded",value:function(){s["default"].startScene&&Laya.Scene.open(s["default"].startScene)}}]),e}());new c},{"./GameConfig":1,"./ui/layaMaxUI":8}],7:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),r(t,[{key:"onEnable",value:function(){console.log(this),this.dialogControl(!1),this.owner.btnReceive.on(Laya.Event.CLICK,this,this.onBtnReciive),this.owner.btnClose.on(Laya.Event.CLICK,this,this.onBtnClose),this.owner.btnYes.on(Laya.Event.CLICK,this,this.onBtnYes),this.owner.btnNo.on(Laya.Event.CLICK,this,this.onBtnNo),this.owner.btnExit.on(Laya.Event.CLICK,this,this.onBtnExit),this.owner.btnConfirm.on(Laya.Event.CLICK,this,this.onBtnConfirm)}},{key:"onBtnNo",value:function(){this.dialogControl(!1)}},{key:"onBtnYes",value:function(){this.owner.btnYes.visible=!1,this.owner.btnNo.visible=!1,this.owner.btnConfirm.visible=!0,this.dialogContent("XXX地，XXX人员为一名男性/女性，未受伤，没有肇事行为")}},{key:"onBtnConfirm",value:function(){Laya.Scene.open("GameSelect.scene")}},{key:"onBtnExit",value:function(){Laya.Scene.open("GamePage.scene")}},{key:"onBtnReciive",value:function(){this.dialogControl(!0),this.onBtnYes()}},{key:"dialogControl",value:function(e){this.detailControl(!e);var t=[this.owner.btnClose,this.owner.btnConfirm,this.owner.btnNo,this.owner.btnYes,this.owner.dialogContent,this.owner.dialogControl,this.owner.dialogTitle];t.forEach(function(t){t.visible=e})}},{key:"detailControl",value:function(e){var t=[this.owner.btnReceive,this.owner.btnExit,this.owner.dialogDetail,this.owner.detailContent,this.owner.detailTitle];t.forEach(function(t){t.visible=e})}},{key:"onBtnClose",value:function(){this.dialogControl(!1)}},{key:"dialogContent",value:function(e){this.owner.dialogContent.text=e}}]),t}(Laya.Script);n["default"]=s},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});Laya["class"],Laya["static"],laya.ui.View,laya.ui.Dialog,Laya.Scene;window.ui||(window.ui={}),n["default"]=ui},{}]},{},[6]);